---
import MovieDescription from "../../components/MovieDescription.astro";
import Layout from "../../layouts/Layout.astro";
import { appApi } from "../../lib/app-api";
import type { Movie } from "../../models/movie";

const id = Astro.params.id;

const movie: Movie = await appApi
  .get(`/api/movies/${id}`)
  .then((response) => response.data);

const name = movie.nameOriginal || movie.nameEn || movie.nameRu
---

<Layout title={name}>
  <MovieDescription movie={movie} />
</Layout>
